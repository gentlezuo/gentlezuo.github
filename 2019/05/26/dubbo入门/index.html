<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="dubbo入门"><meta name="keywords" content="分布式,dubbo"><meta name="author" content="gentlezuo"><meta name="copyright" content="gentlezuo"><title>dubbo入门 | gentlezuo的博客</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#dubbo入门"><span class="toc-number">1.</span> <span class="toc-text">dubbo入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#简介"><span class="toc-number">1.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用"><span class="toc-number">1.2.</span> <span class="toc-text">使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#API配置"><span class="toc-number">1.2.1.</span> <span class="toc-text">API配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#与Spring集成"><span class="toc-number">1.2.2.</span> <span class="toc-text">与Spring集成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注解配置"><span class="toc-number">1.2.3.</span> <span class="toc-text">注解配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#原理浅析"><span class="toc-number">1.3.</span> <span class="toc-text">原理浅析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考"><span class="toc-number">1.4.</span> <span class="toc-text">参考</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://s2.ax1x.com/2019/03/29/A0hzi6.jpg"></div><div class="author-info__name text-center">gentlezuo</div><div class="author-info__description text-center"></div><div class="follow-button"><a href="https://github.com/gentlezuo">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">58</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">22</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">13</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://s2.ax1x.com/2019/03/29/ABlpl9.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">gentlezuo的博客</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a></span></div><div id="post-info"><div id="post-title">dubbo入门</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-05-26</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/dubbo/">dubbo</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">1.6k</span><span class="post-meta__separator">|</span><span>阅读时长: 6 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="dubbo入门"><a href="#dubbo入门" class="headerlink" title="dubbo入门"></a>dubbo入门</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>dubbo是一个高性能的rpc框架。它提供了三大核心能力：面向接口的远程方法调用，智能容错和负载均衡，以及服务自动注册和发现。<br><a id="more"></a></p>
<p><img src="/2019/05/26/dubbo入门/dubbo.png" alt="结构图"></p>
<p>dubbo的流程：<br>初始化阶段：服务提供方注册服务(注册也就是将自己的信息写入注册中心，让别人能够找到自己，从而调用自己)，服务消费方订阅服务<br>当服务消费方想要调用服务时，会区注册中心寻找服务的信息，然后通过网络连接服务提供方，远程调用方法，服务提供方调用方法后将结果返回给服务消费方。<br>监控中心可以监控整个提供服务提供方和消费方。    </p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>dubbo使用很简单，了解的dubbo的启动需要哪些条件（注册中心，服务调用方，消费方，接口），那么使用也就简单了，只需要服务提供方暴露服务给注册中心，服务消费方远程调用服务即可。</p>
<p>不要忘记引入先关的依赖，我这里使用的是：  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dubbo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--操作zookeeper的依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.curator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>curator-framework<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.12.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="API配置"><a href="#API配置" class="headerlink" title="API配置"></a>API配置</h3><p>需求：消费方想要调用一个hello方法，调用服务提供方的方法，得到结果   </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">hello</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JavaHello</span> <span class="keyword">implements</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        String res=<span class="string">"java:hello "</span>+name;</span><br><span class="line">        System.out.println(res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>服务提供方：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> provider;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Provider1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//服务实现，可以提供服务的对象</span></span><br><span class="line">        Hello javaHello=<span class="keyword">new</span> JavaHello();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//配置当前应用</span></span><br><span class="line">        ApplicationConfig applicationConfig=<span class="keyword">new</span> ApplicationConfig();</span><br><span class="line">        applicationConfig.setName(<span class="string">"hello-provider"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//连接注册中心，注册中心可以有多种，比如zookeeper，redis等等</span></span><br><span class="line">        RegistryConfig registryConfig =<span class="keyword">new</span> RegistryConfig();</span><br><span class="line">        registryConfig.setAddress(<span class="string">"zookeeper://127.0.0.1:2181"</span>);</span><br><span class="line">        registryConfig.setUsername(<span class="string">"aaa"</span>);</span><br><span class="line">        registryConfig.setPassword(<span class="string">"bbb"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//服务提供方协议配置，这里使用的是dubbo，具体的协议使用范围不同，可以参考官方文档</span></span><br><span class="line"></span><br><span class="line">        ProtocolConfig protocolConfig=<span class="keyword">new</span> ProtocolConfig();</span><br><span class="line">        protocolConfig.setName(<span class="string">"dubbo"</span>);</span><br><span class="line">        protocolConfig.setPort(<span class="number">22880</span>);</span><br><span class="line">        protocolConfig.setThreads(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//暴露服务配置</span></span><br><span class="line">        <span class="comment">// 注意：ServiceConfig为重对象，内部封装了与注册中心的连接，以及开启服务端口</span></span><br><span class="line"></span><br><span class="line">        ServiceConfig&lt;Hello&gt; serviceConfig=<span class="keyword">new</span> ServiceConfig&lt;Hello&gt;();</span><br><span class="line">        serviceConfig.setApplication(applicationConfig);</span><br><span class="line">        serviceConfig.setRegistry(registryConfig);</span><br><span class="line">        serviceConfig.setProtocol(protocolConfig);</span><br><span class="line"></span><br><span class="line">        serviceConfig.setInterface(Hello.class);</span><br><span class="line">        serviceConfig.setRef(javaHello);</span><br><span class="line">        serviceConfig.setVersion(<span class="string">"1.0.0"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//服务暴露及注册</span></span><br><span class="line">        serviceConfig.export();</span><br><span class="line">        System.in.read();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>服务消费方<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> consumer;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Consumer1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 当前应用配置</span></span><br><span class="line">        ApplicationConfig application = <span class="keyword">new</span> ApplicationConfig();</span><br><span class="line">        application.setName(<span class="string">"hello-consumer"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 连接注册中心配置</span></span><br><span class="line">        RegistryConfig registry = <span class="keyword">new</span> RegistryConfig();</span><br><span class="line">        registry.setAddress(<span class="string">"zookeeper://127.0.0.1:2181"</span>);</span><br><span class="line">        registry.setUsername(<span class="string">"aaa"</span>);</span><br><span class="line">        registry.setPassword(<span class="string">"bbb"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 注意：ReferenceConfig为重对象，内部封装了与注册中心的连接，以及与服务提供方的连接</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//引用远程服务</span></span><br><span class="line">        ReferenceConfig&lt;Hello&gt; referenceConfig =<span class="keyword">new</span> ReferenceConfig&lt;Hello&gt;();</span><br><span class="line">        referenceConfig.setApplication(application);</span><br><span class="line">        referenceConfig.setRegistry(registry); <span class="comment">// 多个注册中心可以用setRegistries()</span></span><br><span class="line">        referenceConfig.setInterface(Hello.class);</span><br><span class="line">        referenceConfig.setVersion(<span class="string">"1.0.0"</span>);</span><br><span class="line"></span><br><span class="line">        Hello javaHello=referenceConfig.get();</span><br><span class="line">        System.out.println(javaHello.hello(<span class="string">"zzx"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>观察结果发现服务提供发打印了一条消息，而服务消费方也打印了一条消息。</p>
<p>观察注册中心：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[zk: localhost:2181(CONNECTED) 6] ls /dubbo/api.interfaces.Hello</span><br><span class="line">[consumers, configurators, routers, providers]</span><br><span class="line">[zk: localhost:2181(CONNECTED) 7] ls /dubbo/api.interfaces.Hello/providers</span><br><span class="line">[dubbo%3A%2F%2F172.17.0.1%3A22880%2Fapi.interfaces.Hello%3Fanyhost%3Dtrue%26application%3Dhello-provider%26dubbo%3D2.0.2%26generic%3Dfalse%26interface%3Dapi.interfaces.Hello%26methods%3Dhello%26pid%3D23265%26revision%3D1.0.0%26side%3Dprovider%26threads%3D10%26timestamp%3D1558959362483%26version%3D1.0.0]</span><br></pre></td></tr></table></figure></p>
<p>可以看见在/dubbo/api.interfaces.Hello节点下有[consumers, configurators, routers, providers]这几个节点：消费订阅者，配置，路由，服务提供者 </p>
<p>在<code>/dubbo/api.interfaces.Hello/providers</code>节点下，将节点内容进行url解码后是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dubbo://172.17.0.1:22880/api.interfaces.Hello?anyhost=true&amp;application=hello-provider&amp;dubbo=2.0.2&amp;generic=false&amp;interface=api.interfaces.Hello&amp;methods=hello&amp;pid=23265&amp;revision=1.0.0&amp;side=provider&amp;threads=10&amp;timestamp=1558959362483&amp;version=1.0.0</span><br></pre></td></tr></table></figure></p>
<p>这里包含了，服务提供方的联系方式，提供的服务的接口等等各种信息。</p>
<p>显而易见，在consumers下也有会存储一些信息。</p>
<p>还有一些特殊的场景，比如方法级设置，点对点直连等等。</p>
<p>当然它的功能不仅仅这么简单，但是一般不这么使用，而是与Spring集成。</p>
<h3 id="与Spring集成"><a href="#与Spring集成" class="headerlink" title="与Spring集成"></a>与Spring集成</h3><p>服务提供方<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:dubbo</span>=<span class="string">"http://dubbo.apache.org/schema/dubbo"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span> <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;dubbo:application name="demo-consumer"/&gt;</span></span><br><span class="line"><span class="comment">    &lt;dubbo:registry group="aaa" address="zookeeper://127.0.0.1:2181"/&gt;</span></span><br><span class="line"><span class="comment">    &lt;dubbo:reference id="demoService" check="false" interface="org.apache.dubbo.samples.basic.api.DemoService"/&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"impl"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dubbo:application</span> <span class="attr">name</span>=<span class="string">"consumer_1"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dubbo:registry</span>  <span class="attr">address</span>=<span class="string">"zookeeper://127.0.0.1:2181"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dubbo:protocol</span>  <span class="attr">name</span>=<span class="string">"dubbo"</span> <span class="attr">port</span>=<span class="string">"20890"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dubbo:reference</span>  <span class="attr">interface</span>=<span class="string">"com.zzx.service.UserService"</span> <span class="attr">id</span>=<span class="string">"userService"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="注解配置"><a href="#注解配置" class="headerlink" title="注解配置"></a>注解配置</h3><p>dubbo也可是使用注解配置，需要配置的信息与上面一致，只是实现方式不同而已。</p>
<p>可以很清楚的看见也就是将上面的ConfigXXX的内容写在的xml标签中，而事实上在配置在xml中，在解析xml后，dubbo也会将创建ConfigXXX对象，写入配置信息。只不过写在配置文件中更加便捷，易于修改。</p>
<h2 id="原理浅析"><a href="#原理浅析" class="headerlink" title="原理浅析"></a>原理浅析</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hello javaHello=referenceConfig.get();</span><br><span class="line">javaHello.hello(<span class="string">"zzx"</span>);</span><br></pre></td></tr></table></figure>
<p>从上面可以看见实际上调用的核心是这一段代码，那么它的具体流程是怎样的?</p>
<ol>
<li>javaHello不是“纯粹”的Hello对象，而是一个代理对象</li>
<li>在代理对象中拦截的这个方法</li>
<li>在拦截方法后，将这些接口，方法，参数，服务消费方的一些信息封装成了一条消息，将这些消息发送个从注册中心知道的服务提供方的地址</li>
<li>服务提供放收到消息后，根据接口，方法，参数等信息，生成一个代理对象，执行方法</li>
<li>服务提供方将执行后的结果封装成一条信息，发送给服务消费方，服务消费方得到结果，返回</li>
</ol>
<p>当然，dubbo的设计远不止这么简单，具有很多层次，很多功能。这里只是简单说明原理。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://dubbo.apache.org/zh-cn/" target="_blank" rel="noopener">dubbo文档</a></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">gentlezuo</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://gentlezuo.github.io/2019/05/26/dubbo入门/">http://gentlezuo.github.io/2019/05/26/dubbo入门/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://gentlezuo.github.io">gentlezuo的博客</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/分布式/">分布式</a><a class="post-meta__tags" href="/tags/dubbo/">dubbo</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2019/06/04/ThreadLocal源码分析/"><i class="fa fa-chevron-left">  </i><span>ThreadLocal源码分析</span></a></div><div class="next-post pull-right"><a href="/2019/05/26/RPC/"><span>RPC</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://s2.ax1x.com/2019/03/29/ABlpl9.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2019 By gentlezuo</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>