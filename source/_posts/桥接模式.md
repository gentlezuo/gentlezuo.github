---
title: 桥接模式
date: 2019-04-05 18:19:50
tags: 设计模式
category: 设计模式
---

# 桥接模式

当一个类有两个以上的维度的时候，使用继承将会使设计变得臃肿，于是使用关联模式（组合聚合）。

## 定义
将抽象部分与它的实现分离，使它们可以独立地变化，是一种对象结构型模式。

## 结构
- Abstraction：抽象类
- RefinedAbstraction：扩充抽象类
- Implementor：实现类接口
- ConcreteImplementor：具体实现类
<!--more-->
## 例子
假如有一个对象是有颜色的形状，颜色是一个类，形状是一个类。那么可以使之成为组合关系。

颜色接口（Implementor）
~~~java
public interface Color {
    void drow();
}
~~~

颜色具体实现类
~~~java
public class Blue implements Color{
    @Override
    public void drow() {
        System.out.println("blue");
    }
}
~~~
~~~java
public class Yellow implements Color {
    @Override
    public void drow() {
        System.out.println("yellow");
    }
}
~~~

形状：抽象类,持有Color这个接口
~~~java

public abstract class Shape {
    public String shape;
    public Color color;

    public Shape(String shape, Color color) {
        this.shape = shape;
        this.color = color;
    }
}
~~~
扩充抽象类
~~~java
public class Square extends Shape {
    public Square(String shape, Color color) {
        super(shape, color);
    }
}
~~~
~~~java
public class Triangle extends Shape{

    public Triangle(String shape, Color color) {
        super(shape, color);
    }
}
~~~
类图：
![桥接模式类图](/桥接模式/Bridge.png)
颜色这个接口也可以是一个类。

若是还需要什么形状带有什么颜色，只需要按需构造即可。

## 优点
- 桥接模式使用对象见的组合关系解耦了抽象和实现之间固有的绑定关系，使得抽象和实现可以沿着各自的维度来变化。形状是一个维度，颜色是一个维度。

## 缺点
- 桥接模式的引入会增加系统的理解与设计难度，由于聚合关联关系建立在抽象层，要求开发者针对抽象进行设计与编程。